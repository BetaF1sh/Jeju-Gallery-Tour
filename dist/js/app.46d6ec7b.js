(function(e){function t(t){for(var i,r,l=t[0],c=t[1],o=t[2],m=0,u=[];m<l.length;m++)r=l[m],n[r]&&u.push(n[r][0]),n[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);d&&d(t);while(u.length)u.shift()();return a.push.apply(a,o||[]),s()}function s(){for(var e,t=0;t<a.length;t++){for(var s=a[t],i=!0,l=1;l<s.length;l++){var c=s[l];0!==n[c]&&(i=!1)}i&&(a.splice(t--,1),e=r(r.s=s[0]))}return e}var i={},n={app:0},a=[];function r(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=i,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(s,i,function(t){return e[t]}.bind(null,i));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/Jeju-Gallery-Tour/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var o=0;o<l.length;o++)t(l[o]);var d=c;a.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var i=s("64a9"),n=s.n(i);n.a},"274d":function(e,t,s){},"3aa0":function(e,t,s){},"3d8d":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);var i=s("2b0e"),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h1",[e._v(e._s(e.selectedScreen))]),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.selectedPlace,expression:"!selectedPlace"}]},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.selectedScreen===e.screens[0],expression:"selectedScreen===screens[0]"}]},[s("place",{attrs:{data:e.places},on:{"@click":e.onClickCard}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:e.selectedScreen===e.screens[1],expression:"selectedScreen===screens[1]"}]},[s("coin",{attrs:{id:e.id,total:e.totalCoin,list:e.completedList}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:e.selectedScreen===e.screens[2],expression:"selectedScreen===screens[2]"}]},[s("TimeLine",{attrs:{list:e.completedList}})],1)]),e.selectedPlace?s("div",[s("tabs",{attrs:{selected:e.selectedTab,tabs:e.tabs},on:{"@switch":e.onClickTab}}),s("tasks",{attrs:{selected:e.selectedTab,tasks:e.tasks,completed:e.completed}})],1):e._e(),s("div",{staticClass:"bottom-app-bar"},[s("span",{staticClass:"mdil mdil-map-marker",class:{"mdil-active":"Place"==e.selectedScreen},on:{click:e.goPlace}}),s("span",{staticClass:"mdil mdil-trophy",class:{"mdil-active":"Coin"===e.selectedScreen},on:{click:e.goCoin}}),s("span",{staticClass:"mdil mdil-clock",class:{"mdil-active":"TimeLine"==e.selectedScreen},on:{click:e.goTimeLine}})])])},a=[],r={data:[{name:"KimyoungGap",img:"KimyoungGap.png",items:[{name:"용눈이 오름",img:"e-audio.jpg",detail:"20년 전 오름은 사람들의 관심을 끌지 못했다. 매스컴이나 관광안내서에서도 오른을 비중 있게 다루지 않았다. 주로 백록담 주변의 고산지대를 집중적으로 부각시켰고, 그렇게 모두들 한라산 하면 백록담을 연상했다.",tags:["용눈이_오름","바람","오름"],completed:!1}],coin:0,visitedDate:"Day 20 Fri"},{name:"Brick Campus",img:"BrickCampus.jpeg",items:[{name:"Brick Campus",img:"profile.jpg",detail:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec turpis orci, pellentesque at venenatis a, mattis et neque. Aliquam interdum.",tags:["want","go","home"],completed:!0}],coin:10,visitedDate:20170303},{name:"Jayeonsarang",img:"Jayeonsarang.jpeg",items:[{name:"Jayeonsarang",img:"profile.jpg",detail:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec turpis orci, pellentesque at venenatis a, mattis et neque. Aliquam interdum.",tags:["want","go","home"],completed:!0}],coin:10,visitedDate:20180204},{name:"Gallery nori",img:"nori.jpeg",items:[{name:"nori One",img:"profile.jpg",detail:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec turpis orci, pellentesque at venenatis a, mattis et neque. Aliquam interdum.",tags:["want","go","home"],completed:!0}],coin:10,visitedDate:20190301}],list(){return Promise.resolve(this.data)},getPlace(e){return Promise.resolve(this.list().then(t=>t.filter(t=>t.name===e)[0]))},getTasks(e){return Promise.resolve(this.getPlace(e).then(e=>e.items.filter(e=>!1===e.completed)))},moveToCompleted({place:e,name:t}){this.getTasks(e).then(e=>e.filter(e=>e.name===t).forEach(e=>e.completed=!0))},getCompleted(e){return e?Promise.resolve(this.getPlace(e).then(e=>e.items.filter(e=>!0===e.completed))):Promise.resolve("")},getCompletedList(){return Promise.resolve(this.list().then(e=>{return e.forEach(e=>this.getCompleted(e.name).then(t=>{e.coin>=10*t.length||(e.coin=10*t.length)})),e.filter(e=>e.coin>0)}))},getTotalCoin(){return Promise.resolve(this.list().then(e=>10*e.reduce((e,t)=>{return e+=t.items.filter(e=>!0===e.completed).length,e},0)))},getVisitedDate(e){return Promise.resolve(this.getPlace(e).then(e=>e.visitedDate))},randomChoice(){const e=this.data[Math.floor(Math.random()*this.data.length)],t=e.items[Math.floor(Math.random()*e.items.length)];return t.completed=!0,Promise.resolve({place:e.name,name:t})}},l={data:null,set(){this.data=Math.floor(999999999*Math.random())},get(){return Promise.resolve(this.data)}},c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",{staticClass:"card bg"},e._l(e.places,function(t){return s("li",{style:{"background-image":"linear-gradient( rgba(0,0,0,0.5),rgba(0,0,0,0.5) ), url(./img/"+t.img+")"},on:{click:function(s){return e.onClickCard(t.name)}}},[s("h2",[e._v(e._s(t.name))])])}),0)},o=[],d={name:"Place",props:["data"],computed:{places:function(){return this.data}},methods:{onClickCard(e){this.$emit("@click",e)}}},m=d,u=(s("74c4"),s("2877")),h=Object(u["a"])(m,c,o,!1,null,"d36c61ba",null),p=h.exports,g=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",{staticClass:"card"},["TASKS"===e.selected?s("span",[s("task-li",{attrs:{list:e.tasks}})],1):s("span",[s("task-li",{attrs:{list:e.completed}})],1)])},f=[],v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.list.length?s("div",e._l(e.list,function(t){return s("li",[s("div",[s("h2",[e._v(e._s(t.name))]),s("div",{staticClass:"img",style:{"background-image":"url(./img/80x80/"+t.img+")"}})]),s("div",{staticClass:"right"},[s("p",[e._v(e._s(t.detail))]),s("p",{staticClass:"tags"},e._l(t.tags,function(t){return s("span",[e._v("#"+e._s(t))])}),0)])])}),0):s("div",{staticClass:"none-list"},[s("div",{staticClass:"mdil mdil-alert"}),e._v("\n\t\tNo have a item\n\t")])},C=[],b={name:"TaskLi",props:["list"]},_=b,k=(s("efc7"),Object(u["a"])(_,v,C,!1,null,"1ba8c59d",null)),T=k.exports,y={name:"Tasks",props:["selected","tasks","completed"],components:{TaskLi:T}},P=y,w=(s("9608"),Object(u["a"])(P,g,f,!1,null,"c0c0efba",null)),L=w.exports,S=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",e._l(e.tabs,function(t){return s("li",{class:{active:t===e.selected},on:{click:function(s){return e.onClickTab(t)}}},[e._v("\n\t\t"+e._s(t)+"\n\t")])}),0)},j=[],x={name:"Tabs",props:["selected","tabs"],methods:{onClickTab(e){this.$emit("@switch",e)}}},O=x,D=(s("ad21"),Object(u["a"])(O,S,j,!1,null,"000bcdca",null)),E=D.exports,N=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"user-id"},[e._v(e._s(e.getId))]),s("div",{staticClass:"total-coin"},[e._v(e._s(e.total)+" C")]),s("div",{staticClass:"bar"}),e.list.length?s("ul",{staticClass:"card bg"},e._l(e.list,function(t,i){return s("li",{style:{"background-image":"linear-gradient( rgba(0,0,0,0.5),rgba(0,0,0,0.5) ), url(./img/"+t.img+")"}},[s("div",{staticClass:"details"},[s("h3",[e._v("#"+e._s(i+1))]),s("h4",[e._v(e._s(t.coin))])]),s("h2",[e._v(e._s(t.name))])])}),0):s("div",{staticClass:"none-list"},[s("div",{staticClass:"mdil mdil-factory"}),e._v("\n\t\tNot yet viseted any place :(\n\t")])])},M=[],q={name:"Coin",props:["id","total","list"],computed:{getId:function(){return this.id}}},$=q,A=(s("851f"),Object(u["a"])($,N,M,!1,null,"4ccccbf1",null)),J=A.exports,F=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",[s("div",{staticClass:"bar"}),e.getList.length?s("div",e._l(e.getList,function(t){return s("li",[s("div",{staticClass:"left"},[s("div",{staticClass:"date-srt"},[e._v(e._s(t.visitedDate))]),s("div",{staticClass:"img",style:{"background-image":"url(./img/36x36/"+t.img+")"}})]),s("div",{staticClass:"right"},[s("h2",[e._v(e._s(t.name))]),s("ul",{staticClass:"item-list"},e._l(t.items,function(t){return s("li",[s("span",[e._v(e._s(t.name))])])}),0)])])}),0):s("div",{staticClass:"none-list"},[s("div",{staticClass:"mdil mdil-factory"}),e._v("Not yet viseted any place :(\n  ")])])},G=[],B={name:"TimeLine",props:["list"],computed:{getList:function(){return this.list}}},I=B,K=(s("759e"),Object(u["a"])(I,F,G,!1,null,"b1d0637c",null)),U=K.exports,V={name:"app",data(){return{id:"",totalCoin:"",screens:["Place","Coin","TimeLine"],selectedScreen:"",places:[],completedList:[],selectedPlace:!1,tabs:["TASKS","COMPLETED"],selectedTab:"",tasks:[],completed:[]}},components:{Place:p,Tasks:L,Coin:J,TimeLine:U,Tabs:E},created(){this.id=this.getUserID(),this.selectedScreen=this.screens[0],this.selectedTab=this.tabs[0],this.fetchCardList()},mounted(){this.triggerNFC()},methods:{triggerNFC(){"nfc"in navigator&&navigator.nfc.watch(e=>{r.randomChoice().then(e=>{this.fetchCompletedListCoin(),this.fetchCompletedListDay(),this.selectedScreen=this.screens[2]})})},randomChoice(){r.randomChoice().then()},getUserID(){l.set(),l.get().then(e=>{this.id=e})},fetchCardList(){r.list().then(e=>{this.places=e})},fetchTaskList(e){r.getTasks(e).then(e=>{this.tasks=e})},fetchCompleted(e){r.getCompleted(e).then(e=>{this.completed=e})},fetchCompletedList(){r.getCompletedList().then(e=>{this.selectedScreen!==this.screens[1]?this.completedList=e.sort((e,t)=>e.visitedDate<t.visitedDate):this.completedList=e.sort((e,t)=>e.coin-t.coin)})},getTotalCoin(){r.getTotalCoin().then(e=>{this.totalCoin=e})},onClickCard(e){this.fetchTaskList(e),this.fetchCompleted(e),this.selectedScreen=e,this.selectedPlace=!0},onClickTab(e){this.selectedTab=e},goPlace(){"Place"!==!this.screen&&(this.selectedTab=this.tabs[0],this.selectedScreen=this.screens[0],this.selectedPlace=!1)},goCoin(){"Coin"!==!this.screen&&(this.getTotalCoin(),this.fetchCompletedList(),this.selectedScreen=this.screens[1],this.selectedPlace=!1)},goTimeLine(){"TimeLine"!==!this.screen&&(this.fetchCompletedList(),this.selectedScreen=this.screens[2],this.selectedPlace=!1)}}},z=V,H=(s("034f"),Object(u["a"])(z,n,a,!1,null,null,null)),Q=H.exports,R=s("9483");Object(R["a"])("/Jeju-Gallery-Tour/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});s("29e1");i["a"].config.productionTip=!1,new i["a"]({render:function(e){return e(Q)}}).$mount("#app")},"63ac":function(e,t,s){},"64a9":function(e,t,s){},6899:function(e,t,s){},"74c4":function(e,t,s){"use strict";var i=s("ea3d"),n=s.n(i);n.a},"759e":function(e,t,s){"use strict";var i=s("274d"),n=s.n(i);n.a},"851f":function(e,t,s){"use strict";var i=s("63ac"),n=s.n(i);n.a},9608:function(e,t,s){"use strict";var i=s("3aa0"),n=s.n(i);n.a},ad21:function(e,t,s){"use strict";var i=s("3d8d"),n=s.n(i);n.a},ea3d:function(e,t,s){},efc7:function(e,t,s){"use strict";var i=s("6899"),n=s.n(i);n.a}});
//# sourceMappingURL=app.46d6ec7b.js.map